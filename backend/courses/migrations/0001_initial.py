# Generated by Django 5.2.5 on 2025-09-14 23:07

import django.core.validators
import django.utils.timezone
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='Course',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(default='Untitled Course', help_text='Course title as shown to students', max_length=200)),
                ('slug', models.SlugField(help_text='URL-friendly version of title', max_length=220, unique=True)),
                ('description', models.TextField(default='Course description', help_text='Full course description for course detail page')),
                ('short_description', models.CharField(default='Course description', help_text='Brief description for course cards and previews', max_length=300)),
                ('price', models.DecimalField(decimal_places=2, default=0.0, help_text='Course price', max_digits=10, validators=[django.core.validators.MinValueValidator(0)])),
                ('duration_weeks', models.PositiveIntegerField(default=4, help_text='Course duration in weeks', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(52)])),
                ('category', models.CharField(choices=[('frontend_development', 'Frontend Development'), ('backend_development', 'Backend Development'), ('programming_languages', 'Programming Languages'), ('ai', 'Artificial Intelligence'), ('ai_tools', 'AI Tools'), ('data_science', 'Data Science'), ('data_analysis', 'Data Analysis'), ('software_engineering', 'Software Engineering Essentials')], default='frontend_development', max_length=50)),
                ('level', models.CharField(choices=[('beginner', 'Beginner'), ('intermediate', 'Intermediate'), ('advanced', 'Advanced')], default='beginner', max_length=20)),
                ('tags', models.TextField(blank=True, help_text='Comma-separated tags for course discovery', null=True)),
                ('is_private', models.BooleanField(default=True, help_text='Private courses are only visible to learners from the same organization')),
                ('requires_admin_enrollment', models.BooleanField(default=True, help_text='All enrollments require training partner admin approval')),
                ('max_enrollments', models.PositiveIntegerField(blank=True, help_text='Maximum number of enrollments allowed (leave blank for unlimited)', null=True)),
                ('is_active', models.BooleanField(default=True, help_text='Course is currently active and available for enrollments (inactive = ended/paused)')),
                ('is_approved_by_training_partner', models.BooleanField(default=False, help_text='Training partner admin has approved this course')),
                ('approval_status', models.CharField(choices=[('draft', 'Draft'), ('pending_approval', 'Pending Training Partner Approval'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='draft', max_length=30)),
                ('approval_notes', models.TextField(blank=True, help_text='Feedback from training partner admin', null=True)),
                ('is_published', models.BooleanField(default=False, help_text='Course is live and visible to students')),
                ('is_featured', models.BooleanField(default=False, help_text='Show in featured courses section')),
                ('is_draft', models.BooleanField(default=True, help_text='Course is still being created')),
                ('enrollment_count', models.PositiveIntegerField(default=0)),
                ('rating', models.DecimalField(decimal_places=2, default=0.0, max_digits=3, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)])),
                ('total_reviews', models.PositiveIntegerField(default=0)),
                ('view_count', models.PositiveIntegerField(default=0)),
                ('thumbnail', models.ImageField(blank=True, help_text='Course card thumbnail image', null=True, upload_to='courses/thumbnails/')),
                ('banner_image', models.ImageField(blank=True, help_text='Course detail page banner image', null=True, upload_to='courses/banners/')),
                ('demo_video', models.FileField(blank=True, help_text='Course preview/demo video', null=True, upload_to='courses/demos/')),
                ('learning_outcomes', models.TextField(default='Students will learn various skills and concepts', help_text='What students will learn (bullet points or paragraph)')),
                ('prerequisites', models.TextField(blank=True, help_text='What students should know before taking this course', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('published_at', models.DateTimeField(blank=True, null=True)),
                ('last_enrollment', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Course',
                'verbose_name_plural': 'Courses',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CourseModule',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(help_text='Module/Topic title', max_length=200)),
                ('slug', models.SlugField(help_text='URL-friendly version of title', max_length=220)),
                ('order', models.PositiveIntegerField(default=0, help_text='Order of module in course')),
                ('is_published', models.BooleanField(default=True, help_text='Module is visible to students')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Course Module',
                'verbose_name_plural': 'Course Modules',
                'ordering': ['course', 'order'],
            },
        ),
        migrations.CreateModel(
            name='CourseNotification',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(default='Course Notification', help_text='Notification title', max_length=200)),
                ('message', models.TextField(default='You have a new course notification.', help_text='Notification message')),
                ('notification_type', models.CharField(choices=[('enrollment', 'Enrollment'), ('completion', 'Completion'), ('new_lesson', 'New Lesson'), ('assignment_due', 'Assignment Due'), ('live_session', 'Live Session'), ('course_update', 'Course Update'), ('enrollment_approved', 'Enrollment Approved'), ('enrollment_rejected', 'Enrollment Rejected'), ('other', 'Other')], default='other', help_text='Type of notification', max_length=20)),
                ('is_read', models.BooleanField(default=False, help_text='Notification has been read')),
                ('is_email_sent', models.BooleanField(default=False, help_text='Email notification has been sent')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('read_at', models.DateTimeField(blank=True, null=True)),
            ],
            options={
                'verbose_name': 'Course Notification',
                'verbose_name_plural': 'Course Notifications',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CourseProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('overall_progress', models.DecimalField(decimal_places=2, default=0.0, help_text='Overall course progress percentage', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('lessons_completed', models.PositiveIntegerField(default=0, help_text='Number of lessons completed')),
                ('total_lessons', models.PositiveIntegerField(default=0, help_text='Total number of lessons in course')),
                ('started_at', models.DateTimeField(default=django.utils.timezone.now, help_text='When course was started')),
                ('completed_at', models.DateTimeField(blank=True, help_text='When course was completed', null=True)),
                ('last_activity', models.DateTimeField(blank=True, help_text='Last activity on course', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Course Progress',
                'verbose_name_plural': 'Course Progress',
                'ordering': ['-last_activity'],
            },
        ),
        migrations.CreateModel(
            name='CourseResource',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(help_text='Resource title', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Resource description')),
                ('resource_type', models.CharField(choices=[('syllabus', 'Course Syllabus'), ('schedule', 'Course Schedule'), ('reference', 'Reference Material'), ('tool', 'Tool or Software'), ('link', 'External Link'), ('certificate_template', 'Certificate Template'), ('other', 'Other')], default='other', help_text='Type of resource', max_length=25)),
                ('file', models.FileField(blank=True, help_text='Resource file', null=True, upload_to='courses/resources/')),
                ('url', models.URLField(blank=True, help_text='Resource URL (for external links)')),
                ('is_public', models.BooleanField(default=True, help_text='Resource is visible to all students')),
                ('order', models.PositiveIntegerField(default=0, help_text='Order of resource')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Course Resource',
                'verbose_name_plural': 'Course Resources',
                'ordering': ['course', 'order', 'title'],
            },
        ),
        migrations.CreateModel(
            name='CourseReview',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('rating', models.PositiveIntegerField(help_text='Rating from 1 to 5 stars', validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('title', models.CharField(default='Course Review', help_text='Review title', max_length=200)),
                ('content', models.TextField(default='Great course!', help_text='Review content')),
                ('is_approved', models.BooleanField(default=False, help_text='Review is approved and visible')),
                ('is_anonymous', models.BooleanField(default=False, help_text='Review is anonymous')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Course Review',
                'verbose_name_plural': 'Course Reviews',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='CourseWishlist',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
            options={
                'verbose_name': 'Course Wishlist',
                'verbose_name_plural': 'Course Wishlists',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Enrollment',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('enrollment_type', models.CharField(choices=[('admin_created', 'Created by Admin'), ('student_requested', 'Requested by Student')], default='student_requested', help_text='How this enrollment was created', max_length=20)),
                ('approval_date', models.DateTimeField(blank=True, help_text='Date when enrollment was approved', null=True)),
                ('rejection_reason', models.TextField(blank=True, help_text='Reason for rejection (if applicable)', null=True)),
                ('admin_notes', models.TextField(blank=True, help_text='Admin notes about this enrollment', null=True)),
                ('status', models.CharField(choices=[('pending_approval', 'Pending Admin Approval'), ('approved', 'Approved'), ('active', 'Active'), ('completed', 'Completed'), ('rejected', 'Rejected'), ('dropped', 'Dropped'), ('suspended', 'Suspended')], default='pending_approval', help_text='Enrollment status', max_length=20)),
                ('enrollment_date', models.DateTimeField(default=django.utils.timezone.now, help_text='Date when enrollment was requested/created')),
                ('start_date', models.DateTimeField(blank=True, help_text='Date when student started learning (after approval)', null=True)),
                ('completion_date', models.DateTimeField(blank=True, help_text='Date of course completion', null=True)),
                ('last_accessed', models.DateTimeField(blank=True, help_text='Last time student accessed the course', null=True)),
                ('progress_percentage', models.DecimalField(decimal_places=2, default=0.0, help_text='Course completion percentage', max_digits=5, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('amount_paid', models.DecimalField(decimal_places=2, default=0.0, help_text='Amount paid for the course', max_digits=10)),
                ('payment_status', models.CharField(choices=[('pending', 'Pending'), ('paid', 'Paid'), ('failed', 'Failed'), ('refunded', 'Refunded'), ('partial', 'Partial')], default='pending', help_text='Payment status', max_length=20)),
                ('payment_method', models.CharField(blank=True, help_text='Payment method used', max_length=50)),
                ('payment_reference', models.CharField(blank=True, help_text='Payment reference number', max_length=100)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Enrollment',
                'verbose_name_plural': 'Enrollments',
                'ordering': ['-enrollment_date'],
            },
        ),
        migrations.CreateModel(
            name='Lesson',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(help_text='Lesson/Subtopic title', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Lesson description')),
                ('slug', models.SlugField(help_text='URL-friendly version of title', max_length=220)),
                ('lesson_type', models.CharField(choices=[('video', 'Video Lesson'), ('text', 'Text Lesson'), ('assignment', 'Assignment'), ('image_gallery', 'Image Gallery'), ('mixed', 'Mixed Content')], default='video', help_text='Type of lesson', max_length=20)),
                ('order', models.PositiveIntegerField(default=0, help_text='Order of lesson in module')),
                ('duration_minutes', models.PositiveIntegerField(default=0, help_text='Lesson duration in minutes (auto-detected from video files)')),
                ('is_preview', models.BooleanField(default=False, help_text='Lesson is available for preview')),
                ('is_published', models.BooleanField(default=True, help_text='Lesson is visible to students')),
                ('is_mandatory', models.BooleanField(default=True, help_text='Lesson must be completed to progress')),
                ('content', models.TextField(blank=True, help_text='Lesson content (rich text for text lessons, assignment instructions, etc.)')),
                ('video_file', models.FileField(blank=True, help_text='Video file upload (duration will be auto-detected)', null=True, upload_to='courses/lessons/videos/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lesson',
                'verbose_name_plural': 'Lessons',
                'ordering': ['module', 'order'],
            },
        ),
        migrations.CreateModel(
            name='LessonMaterial',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('title', models.CharField(help_text='Material title', max_length=200)),
                ('description', models.TextField(blank=True, help_text='Material description')),
                ('material_type', models.CharField(choices=[('pdf', 'PDF Document'), ('doc', 'Word Document'), ('ppt', 'PowerPoint Presentation'), ('zip', 'ZIP Archive'), ('image', 'Image'), ('video', 'Video File'), ('code', 'Code File'), ('other', 'Other')], default='other', help_text='Type of material', max_length=20)),
                ('file', models.FileField(help_text='Material file', upload_to='courses/lessons/materials/')),
                ('file_size', models.PositiveIntegerField(default=0, help_text='File size in bytes')),
                ('download_count', models.PositiveIntegerField(default=0, help_text='Number of downloads')),
                ('is_required', models.BooleanField(default=False, help_text='Material is required for the lesson')),
                ('order', models.PositiveIntegerField(default=0, help_text='Order of material in lesson')),
                ('is_downloadable', models.BooleanField(default=True, help_text='Students can download this material')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lesson Material',
                'verbose_name_plural': 'Lesson Materials',
                'ordering': ['lesson', 'order', 'title'],
            },
        ),
        migrations.CreateModel(
            name='LessonProgress',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('is_completed', models.BooleanField(default=False, help_text='Lesson is completed')),
                ('is_started', models.BooleanField(default=False, help_text='Lesson has been started')),
                ('started_at', models.DateTimeField(blank=True, help_text='When lesson was started', null=True)),
                ('completed_at', models.DateTimeField(blank=True, help_text='When lesson was completed', null=True)),
                ('last_accessed', models.DateTimeField(blank=True, help_text='Last time lesson was accessed', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Lesson Progress',
                'verbose_name_plural': 'Lesson Progress',
                'ordering': ['enrollment', 'lesson__module__order', 'lesson__order'],
            },
        ),
    ]
